<?xml version = '1.0' encoding = 'UTF-8'?>
<!--User Editing Not Allowed for Sections: oracle-xsl-mapper:schema, top level xsl:params, version attribute of the stylesheet element. GENERATED BY OIC MAPPER, DO NOT DELETE THIS LINE-->
<!--User Editing Not Allowed for Sections: oracle-xsl-mapper:schema, top level xsl:params, version attribute of the stylesheet element. GENERATED BY OIC MAPPER, DO NOT DELETE THIS LINE--><xsl:stylesheet version="2.0" xml:id="id_1" xmlns:nssrcmpr="http://www.oracle.com/2014/03/ics/schedule" xmlns:nstrgmpr="http://xmlns.oracle.com/cloud/adapter/stagefile/writeCustomerSiteDetailStage_REQUEST/types" xmlns:ora="http://schemas.oracle.com/xpath/extension" xmlns:oracle-xsl-mapper="http://www.oracle.com/xsl/mapper/schemas" xmlns:dvm="http://www.oracle.com/XSL/Transform/java/oracle.tip.dvm.LookupValue" xmlns:oraext="http://www.oracle.com/XSL/Transform/java/oracle.tip.pc.services.functions.ExtFunc" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:fn="http://www.w3.org/2005/xpath-functions" xmlns:xp20="http://www.oracle.com/XSL/Transform/java/oracle.tip.pc.services.functions.Xpath20" xmlns:xsl="http://www.w3.org/1999/XSL/Transform" exclude-result-prefixes=" nssrcmpr ora oracle-xsl-mapper dvm oraext xsi xsd fn xp20 xsl ignore01 nsmpr0 nsmpr1 nsmpr2 nsmpr3 nsmpr4 nsmpr5 nsmpr6 nsmpr7 nsmpr1 nsmpr8 nsmpr8" xmlns:ignore01="http://www.oracle.com/XSL/Transform/java" ignore01:ignorexmlids="true" xmlns:xml="http://www.w3.org/XML/1998/namespace" xmlns:nsmpr0="http://xmlns.oracle.com/cloud/list/pull" xmlns:nsmpr1="http://xmlns.oracle.com/cloud/adapter/ftp/readContactDetails/types" xmlns:nsmpr2="http://xmlns.oracle.com/cloud/adapter/ftp/deleteFile_REQUEST/types" xmlns:nsmpr3="http://xmlns.oracle.com/cloud/adapter/erp/findCustomerAccount_REQUEST/types" xmlns:nsmpr4="http://xmlns.oracle.com/cloud/adapter/ftp/listFileFTP_REQUEST/types" xmlns:nsmpr5="http://xmlns.oracle.com/cloud/adapter/ftp/readContactDetails_REQUEST/types" xmlns:nsmpr6="http://www.oracle.com/2014/03/ic/integration/metadata" xmlns:nsmpr7="http://xmlns.oracle.com/cloud/adapter/erp/findCustomer_REQUEST/types" xmlns:ns55="http://xmlns.oracle.com/cloud/adapter/stagefile/writeCustomerSiteDetailStage/types" xmlns:ns50="http://xmlns.oracle.com/apps/cdm/foundation/parties/organizationService/" xmlns:ns39="http://xmlns.oracle.com/apps/cdm/foundation/parties/partyService/" xmlns:nsmpr8="http://TargetNamespace.com/fileReference">
   <oracle-xsl-mapper:schema xml:id="id_2">
      <!--SPECIFICATION OF MAP SOURCES AND TARGETS, DO NOT MODIFY.-->
      <oracle-xsl-mapper:mapSources xml:id="id_3">
         <oracle-xsl-mapper:source type="XSD" xml:id="id_4">
            <oracle-xsl-mapper:schema location="../../processor_8/resourcegroup_9/ICSSchedule_1.xsd" xml:id="id_5"/>
            <oracle-xsl-mapper:rootElement name="schedule" namespace="http://www.oracle.com/2014/03/ics/schedule" xml:id="id_6"/>
         </oracle-xsl-mapper:source>
      <oracle-xsl-mapper:source type="WSDL" xml:id="id_72">
            <oracle-xsl-mapper:schema location="../../application_227/inbound_228/resourcegroup_229/findCustomer_REQUEST.wsdl" xml:id="id_73"/>
            <oracle-xsl-mapper:rootElement name="findOrganizationResponse" namespace="http://xmlns.oracle.com/cloud/adapter/erp/findCustomer_REQUEST/types" xml:id="id_74"/>
            <oracle-xsl-mapper:param name="findCustomer" xml:id="id_75"/>
         </oracle-xsl-mapper:source>
         <oracle-xsl-mapper:source type="WSDL" xml:id="id_160">
            <oracle-xsl-mapper:schema location="../../processor_94/resourcegroup_386/generated.wsdl" xml:id="id_161"/>
            <oracle-xsl-mapper:rootElement name="Contact" namespace="http://TargetNamespace.com/fileReference" xml:id="id_162"/>
            <oracle-xsl-mapper:param name="currPerson" xml:id="id_163"/>
         </oracle-xsl-mapper:source>
      <oracle-xsl-mapper:source type="WSDL" xml:id="id_207">
            <oracle-xsl-mapper:schema location="../../processor_47/resourcegroup_54/generated.wsdl" xml:id="id_208"/>
            <oracle-xsl-mapper:rootElement name="File" namespace="http://xmlns.oracle.com/cloud/list/pull" xml:id="id_209"/>
            <oracle-xsl-mapper:param name="currFile" xml:id="id_210"/>
         </oracle-xsl-mapper:source>
         <oracle-xsl-mapper:source type="WSDL" xml:id="id_211">
            <oracle-xsl-mapper:schema location="../../application_79/inbound_80/resourcegroup_81/deleteFile_REQUEST.wsdl" xml:id="id_212"/>
            <oracle-xsl-mapper:rootElement name="DeleteFileResponse" namespace="http://xmlns.oracle.com/cloud/adapter/ftp/deleteFile_REQUEST/types" xml:id="id_213"/>
            <oracle-xsl-mapper:param name="deleteFile" xml:id="id_214"/>
         </oracle-xsl-mapper:source>
         <oracle-xsl-mapper:source type="WSDL" xml:id="id_215">
            <oracle-xsl-mapper:schema location="../../application_79/inbound_80/resourcegroup_81/deleteFile_REQUEST.wsdl" xml:id="id_216"/>
            <oracle-xsl-mapper:rootElement name="DeleteFile" namespace="http://xmlns.oracle.com/cloud/adapter/ftp/deleteFile_REQUEST/types" xml:id="id_217"/>
            <oracle-xsl-mapper:param name="deleteFile_REQUEST" xml:id="id_218"/>
         </oracle-xsl-mapper:source>
         <oracle-xsl-mapper:source type="WSDL" xml:id="id_219">
            <oracle-xsl-mapper:schema location="../../application_117/inbound_118/resourcegroup_119/findCustomerAccount_REQUEST.wsdl" xml:id="id_220"/>
            <oracle-xsl-mapper:rootElement name="findCustomerAccountResponse" namespace="http://xmlns.oracle.com/cloud/adapter/erp/findCustomerAccount_REQUEST/types" xml:id="id_221"/>
            <oracle-xsl-mapper:param name="findCustomerAccount" xml:id="id_222"/>
         </oracle-xsl-mapper:source>
         <oracle-xsl-mapper:source type="WSDL" xml:id="id_223">
            <oracle-xsl-mapper:schema location="../../application_117/inbound_118/resourcegroup_119/findCustomerAccount_REQUEST.wsdl" xml:id="id_224"/>
            <oracle-xsl-mapper:rootElement name="findCustomerAccount" namespace="http://xmlns.oracle.com/cloud/adapter/erp/findCustomerAccount_REQUEST/types" xml:id="id_225"/>
            <oracle-xsl-mapper:param name="findCustomerAccount_REQUEST" xml:id="id_226"/>
         </oracle-xsl-mapper:source>
         <oracle-xsl-mapper:source type="WSDL" xml:id="id_227">
            <oracle-xsl-mapper:schema location="../../application_227/inbound_228/resourcegroup_229/findCustomer_REQUEST.wsdl" xml:id="id_228"/>
            <oracle-xsl-mapper:rootElement name="findOrganization" namespace="http://xmlns.oracle.com/cloud/adapter/erp/findCustomer_REQUEST/types" xml:id="id_229"/>
            <oracle-xsl-mapper:param name="findCustomer_REQUEST" xml:id="id_230"/>
         </oracle-xsl-mapper:source>
         <oracle-xsl-mapper:source type="WSDL" xml:id="id_231">
            <oracle-xsl-mapper:schema location="../../application_32/inbound_33/resourcegroup_34/listFileFTP_REQUEST.wsdl" xml:id="id_232"/>
            <oracle-xsl-mapper:rootElement name="ListFileResponse" namespace="http://xmlns.oracle.com/cloud/adapter/ftp/listFileFTP_REQUEST/types" xml:id="id_233"/>
            <oracle-xsl-mapper:param name="listFileFTP" xml:id="id_234"/>
         </oracle-xsl-mapper:source>
         <oracle-xsl-mapper:source type="WSDL" xml:id="id_235">
            <oracle-xsl-mapper:schema location="../../application_32/inbound_33/resourcegroup_34/listFileFTP_REQUEST.wsdl" xml:id="id_236"/>
            <oracle-xsl-mapper:rootElement name="ListFile" namespace="http://xmlns.oracle.com/cloud/adapter/ftp/listFileFTP_REQUEST/types" xml:id="id_237"/>
            <oracle-xsl-mapper:param name="listFileFTP_REQUEST" xml:id="id_238"/>
         </oracle-xsl-mapper:source>
         <oracle-xsl-mapper:source type="WSDL" xml:id="id_239">
            <oracle-xsl-mapper:schema location="../../application_64/inbound_65/resourcegroup_66/readContactDetails_REQUEST.wsdl" xml:id="id_240"/>
            <oracle-xsl-mapper:rootElement name="SyncReadFileResponse" namespace="http://xmlns.oracle.com/cloud/adapter/ftp/readContactDetails_REQUEST/types" xml:id="id_241"/>
            <oracle-xsl-mapper:param name="readContactDetails" xml:id="id_242"/>
         </oracle-xsl-mapper:source>
         <oracle-xsl-mapper:source type="WSDL" xml:id="id_243">
            <oracle-xsl-mapper:schema location="../../application_64/inbound_65/resourcegroup_66/readContactDetails_REQUEST.wsdl" xml:id="id_244"/>
            <oracle-xsl-mapper:rootElement name="SyncReadFile" namespace="http://xmlns.oracle.com/cloud/adapter/ftp/readContactDetails_REQUEST/types" xml:id="id_245"/>
            <oracle-xsl-mapper:param name="readContactDetails_REQUEST" xml:id="id_246"/>
         </oracle-xsl-mapper:source>
         <oracle-xsl-mapper:source type="XSD" xml:id="id_247">
            <oracle-xsl-mapper:schema location="../../processor_13/resourcegroup_14/ICSIntegrationMetadata.xsd" xml:id="id_248"/>
            <oracle-xsl-mapper:rootElement name="metadata" namespace="http://www.oracle.com/2014/03/ic/integration/metadata" xml:id="id_249"/>
            <oracle-xsl-mapper:param name="self" xml:id="id_250"/>
         </oracle-xsl-mapper:source>
      </oracle-xsl-mapper:mapSources>
      <oracle-xsl-mapper:mapTargets xml:id="id_7">
         <oracle-xsl-mapper:target type="WSDL" xml:id="id_8">
            <oracle-xsl-mapper:schema location="../../processor_204/resourcegroup_205/writeCustomerSiteDetailStage_REQUEST.wsdl" xml:id="id_9"/>
            <oracle-xsl-mapper:rootElement name="Write" namespace="http://xmlns.oracle.com/cloud/adapter/stagefile/writeCustomerSiteDetailStage_REQUEST/types" xml:id="id_10"/>
         </oracle-xsl-mapper:target>
      </oracle-xsl-mapper:mapTargets>
   </oracle-xsl-mapper:schema>
   <xsl:param name="findCustomer" xml:id="id_80"/>
   <xsl:param name="currPerson" xml:id="id_206"/>
   <xsl:param name="FTPPath" xml:id="id_251"/>
   <xsl:param name="currFile" xml:id="id_252"/>
   <xsl:param name="deleteFile" xml:id="id_253"/>
   <xsl:param name="deleteFile_REQUEST" xml:id="id_254"/>
   <xsl:param name="findCustomerAccount" xml:id="id_255"/>
   <xsl:param name="findCustomerAccount_REQUEST" xml:id="id_256"/>
   <xsl:param name="findCustomer_REQUEST" xml:id="id_257"/>
   <xsl:param name="listFileFTP" xml:id="id_258"/>
   <xsl:param name="listFileFTP_REQUEST" xml:id="id_259"/>
   <xsl:param name="readContactDetails" xml:id="id_260"/>
   <xsl:param name="readContactDetails_REQUEST" xml:id="id_261"/>
   <xsl:param name="self" xml:id="id_262"/>
   <xsl:param name="tracking_var_1" xml:id="id_263"/>
   <xsl:param name="tracking_var_2" xml:id="id_264"/>
   <xsl:param name="tracking_var_3" xml:id="id_265"/>
   <xsl:template match="/" xml:id="id_11">
      <nstrgmpr:Write xml:id="id_12">
         <ns55:request-wrapper xml:id="id_82">
            <xsl:for-each xml:id="id_150" select="$findCustomer/nsmpr7:findOrganizationResponse/nsmpr7:result/ns50:Value/ns50:PartySite">
               <xsl:if xml:id="id_152" test="ns39:PartySiteNumber = $currPerson/nsmpr8:Contact/nsmpr8:Site_Number">
                  <ns55:Site_Details xml:id="id_153">
                     <ns55:CustomerSiteId xml:id="id_154">
                        <xsl:value-of xml:id="id_155" select="ns39:PartySiteId"/>
                     </ns55:CustomerSiteId>
                  </ns55:Site_Details>
               </xsl:if>
            </xsl:for-each>
         </ns55:request-wrapper>
      </nstrgmpr:Write>
   </xsl:template>
</xsl:stylesheet>