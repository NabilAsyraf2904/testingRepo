<?xml version = '1.0' encoding = 'UTF-8'?>
<!--User Editing Not Allowed for Sections: oracle-xsl-mapper:schema, top level xsl:params, version attribute of the stylesheet element. GENERATED BY OIC MAPPER, DO NOT DELETE THIS LINE-->
<!--User Editing Not Allowed for Sections: oracle-xsl-mapper:schema, top level xsl:params, version attribute of the stylesheet element. GENERATED BY OIC MAPPER, DO NOT DELETE THIS LINE--><xsl:stylesheet version="2.0" xml:id="id_1" xmlns:nssrcmpr="http://www.oracle.com/2014/03/ics/schedule" xmlns:ora="http://schemas.oracle.com/xpath/extension" xmlns:nstrgmpr="http://xmlns.oracle.com/cloud/adapter/erp/mergeContact_REQUEST/types" xmlns:oracle-xsl-mapper="http://www.oracle.com/xsl/mapper/schemas" xmlns:dvm="http://www.oracle.com/XSL/Transform/java/oracle.tip.dvm.LookupValue" xmlns:oraext="http://www.oracle.com/XSL/Transform/java/oracle.tip.pc.services.functions.ExtFunc" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:fn="http://www.w3.org/2005/xpath-functions" xmlns:xp20="http://www.oracle.com/XSL/Transform/java/oracle.tip.pc.services.functions.Xpath20" xmlns:xsl="http://www.w3.org/1999/XSL/Transform" exclude-result-prefixes=" nssrcmpr ora oracle-xsl-mapper dvm oraext xsi xsd fn xp20 xsl ignore01 nsmpr0 nsmpr1 nsmpr2 nsmpr3 nsmpr4 nsmpr5 nsmpr6 nsmpr7 nsmpr2 nsmpr8 nsmpr9 nsmpr10 nsmpr11 nsmpr12 nsmpr11 nsmpr11 nsmpr11 nsmpr11 nsmpr11 nsmpr11 fn fn fn fn fn fn fn fn nsmpr11 nsmpr11 nsmpr13" xmlns:ignore01="http://www.oracle.com/XSL/Transform/java" ignore01:ignorexmlids="true" xmlns:xml="http://www.w3.org/XML/1998/namespace" xmlns:nsmpr0="http://xmlns.oracle.com/cloud/adapter/erp/createPersonAndRelationship_REQUEST/types" xmlns:nsmpr1="http://xmlns.oracle.com/cloud/list/pull" xmlns:nsmpr2="http://xmlns.oracle.com/cloud/adapter/ftp/readContactDetails/types" xmlns:nsmpr3="http://xmlns.oracle.com/cloud/adapter/ftp/deleteFile_REQUEST/types" xmlns:nsmpr4="http://xmlns.oracle.com/cloud/adapter/erp/findCustomerAccount_REQUEST/types" xmlns:nsmpr5="http://xmlns.oracle.com/cloud/adapter/ftp/listFileFTP_REQUEST/types" xmlns:nsmpr6="http://xmlns.oracle.com/cloud/adapter/ftp/readContactDetails_REQUEST/types" xmlns:nsmpr7="http://www.oracle.com/2014/03/ic/integration/metadata" xmlns:ns50="http://xmlns.oracle.com/apps/cdm/foundation/parties/customerAccountService/" xmlns:ns39="http://xmlns.oracle.com/apps/cdm/foundation/parties/personService/" xmlns:ns37="http://xmlns.oracle.com/apps/cdm/foundation/parties/relationshipService/" xmlns:nsmpr8="http://xmlns.oracle.com/cloud/adapter/erp/findCustomer_REQUEST/types" xmlns:nsmpr9="http://xmlns.oracle.com/cloud/adapter/stagefile/writeCustomerAccDetailsStage_REQUEST/types" xmlns:nsmpr10="http://xmlns.oracle.com/cloud/adapter/stagefile/writeCustomerSiteDetailStage_REQUEST/types" xmlns:ns65="http://xmlns.oracle.com/cloud/adapter/stagefile/writeCustomerAccDetailsStage/types" xmlns:nsmpr11="http://TargetNamespace.com/fileReference" xmlns:nsmpr12="http://xmlns.oracle.com/cloud/adapter/erp/findPerson_REQUEST/types" xmlns:nsmpr13="http://TargetNamespace.com/fileReference/writeStatusStage">
   <oracle-xsl-mapper:schema xml:id="id_2">
      <!--SPECIFICATION OF MAP SOURCES AND TARGETS, DO NOT MODIFY.-->
      <oracle-xsl-mapper:mapSources xml:id="id_3">
         <oracle-xsl-mapper:source type="XSD" xml:id="id_4">
            <oracle-xsl-mapper:schema location="../../processor_8/resourcegroup_9/ICSSchedule_1.xsd" xml:id="id_5"/>
            <oracle-xsl-mapper:rootElement name="schedule" namespace="http://www.oracle.com/2014/03/ics/schedule" xml:id="id_6"/>
         </oracle-xsl-mapper:source>
      <oracle-xsl-mapper:source type="WSDL" xml:id="id_13">
            <oracle-xsl-mapper:schema location="../../application_134/inbound_135/resourcegroup_136/createPersonAndRelationship_REQUEST.wsdl" xml:id="id_14"/>
            <oracle-xsl-mapper:rootElement name="createPersonResponse" namespace="http://xmlns.oracle.com/cloud/adapter/erp/createPersonAndRelationship_REQUEST/types" xml:id="id_15"/>
            <oracle-xsl-mapper:param name="createPersonAndRelationship" xml:id="id_16"/>
         </oracle-xsl-mapper:source>
         <oracle-xsl-mapper:source type="WSDL" xml:id="id_37">
            <oracle-xsl-mapper:schema location="../../application_117/inbound_118/resourcegroup_119/findCustomerAccount_REQUEST.wsdl" xml:id="id_38"/>
            <oracle-xsl-mapper:rootElement name="findCustomerAccountResponse" namespace="http://xmlns.oracle.com/cloud/adapter/erp/findCustomerAccount_REQUEST/types" xml:id="id_39"/>
            <oracle-xsl-mapper:param name="findCustomerAccount" xml:id="id_40"/>
         </oracle-xsl-mapper:source>
         <oracle-xsl-mapper:source type="WSDL" xml:id="id_160">
            <oracle-xsl-mapper:schema location="../../processor_256/resourcegroup_257/writeCustomerAccDetailsStage_REQUEST.wsdl" xml:id="id_161"/>
            <oracle-xsl-mapper:rootElement name="Write" namespace="http://xmlns.oracle.com/cloud/adapter/stagefile/writeCustomerAccDetailsStage_REQUEST/types" xml:id="id_162"/>
            <oracle-xsl-mapper:param name="writeCustomerAccDetailsStage_REQUEST" xml:id="id_163"/>
         </oracle-xsl-mapper:source>
         <oracle-xsl-mapper:source type="WSDL" xml:id="id_298">
            <oracle-xsl-mapper:schema location="../../processor_94/resourcegroup_386/generated.wsdl" xml:id="id_299"/>
            <oracle-xsl-mapper:rootElement name="Contact" namespace="http://TargetNamespace.com/fileReference" xml:id="id_300"/>
            <oracle-xsl-mapper:param name="currPerson" xml:id="id_301"/>
         </oracle-xsl-mapper:source>
      </oracle-xsl-mapper:mapSources>
      <oracle-xsl-mapper:mapTargets xml:id="id_7">
         <oracle-xsl-mapper:target type="WSDL" xml:id="id_8">
            <oracle-xsl-mapper:schema location="../../application_167/inbound_168/resourcegroup_169/mergeContact_REQUEST.wsdl" xml:id="id_9"/>
            <oracle-xsl-mapper:rootElement name="mergeCustomerAccount" namespace="http://xmlns.oracle.com/cloud/adapter/erp/mergeContact_REQUEST/types" xml:id="id_10"/>
         </oracle-xsl-mapper:target>
      </oracle-xsl-mapper:mapTargets>
   </oracle-xsl-mapper:schema>
   <xsl:param name="createPersonAndRelationship" xml:id="id_66"/>
   <xsl:param name="findCustomerAccount" xml:id="id_72"/>
   <xsl:param name="writeCustomerAccDetailsStage_REQUEST" xml:id="id_189"/>
   <xsl:param name="currPerson" xml:id="id_365"/>
   <xsl:template match="/" xml:id="id_11">
      <nstrgmpr:mergeCustomerAccount xml:id="id_12">
         <xsl:choose xml:id="id_85">
            <xsl:when xml:id="id_86" test="string-length ($currPerson/nsmpr11:Contact/nsmpr11:Site_Number ) > 0">
               <nstrgmpr:customerAccount xml:id="id_87">
                  <ns50:CustomerAccountId xml:id="id_88">
                     <xsl:value-of xml:id="id_89" select="$findCustomerAccount/nsmpr4:findCustomerAccountResponse/nsmpr4:result/ns50:Value/ns50:CustomerAccountId"/>
                  </ns50:CustomerAccountId>
                  <ns50:CreatedByModule xml:id="id_680">
                     <xsl:value-of xml:id="id_681" select="&quot;TCA_FORM_WRAPPER&quot;"/>
                  </ns50:CreatedByModule>
                  <ns50:CustomerAccountSite xml:id="id_93">
                     <ns50:CustomerAccountSiteId xml:id="id_771">
                        <xsl:value-of xml:id="id_772" select="$writeCustomerAccDetailsStage_REQUEST/nsmpr9:Write/ns65:request-wrapper/ns65:AccountSite_Details[1.0]/ns65:CustomerAccountSiteId"/>
                     </ns50:CustomerAccountSiteId>
                     <ns50:CreatedByModule xml:id="id_676">
                        <xsl:value-of xml:id="id_677" select="&quot;TCA_FORM_WRAPPER&quot;"/>
                     </ns50:CreatedByModule>
                     <ns50:CustomerAccountContact xml:id="id_94">
                        <xsl:if xml:id="id_868" test="contains ($currPerson/nsmpr11:Contact/nsmpr11:Primary_Contact_Indicator, &quot;Y&quot; )">
                           <ns50:PrimaryFlag xml:id="id_869">
                              <xsl:value-of xml:id="id_870" select="true ()"/>
                           </ns50:PrimaryFlag>
                        </xsl:if>
                        <ns50:RoleType xml:id="id_97">
                           <xsl:value-of xml:id="id_98" select="&quot;CONTACT&quot;"/>
                        </ns50:RoleType>
                        <ns50:CreatedByModule xml:id="id_95">
                           <xsl:value-of xml:id="id_96" select="&quot;TCA_FORM_WRAPPER&quot;"/>
                        </ns50:CreatedByModule>
                        <ns50:RelationshipId xml:id="id_99">
                           <xsl:value-of xml:id="id_100" select="$createPersonAndRelationship/nsmpr0:createPersonResponse/nsmpr0:result/ns39:Value/ns39:Relationship/ns37:RelationshipId"/>
                        </ns50:RelationshipId>
                     <xsl:if xml:id="id_573" test="string-length ($currPerson/nsmpr11:Contact/nsmpr11:Responsibility_Type ) > 0">
                           <ns50:CustomerAccountContactRole xml:id="id_276">
                              <ns50:ResponsibilityType xml:id="id_277">
                                 <xsl:value-of xml:id="id_278" select="$currPerson/nsmpr11:Contact/nsmpr11:Responsibility_Type"/>
                              </ns50:ResponsibilityType>
                              <xsl:choose xml:id="id_462">
                                 <xsl:when xml:id="id_463" test="contains ($currPerson/nsmpr11:Contact/nsmpr11:Primary_Responsibility_Indicator, &quot;Y&quot; )">
                                    <ns50:PrimaryFlag xml:id="id_279">
                                       <xsl:value-of xml:id="id_280" select="true ()"/>
                                    </ns50:PrimaryFlag>
                                 </xsl:when>
                                 <xsl:otherwise xml:id="id_466">
                                    <ns50:PrimaryFlag xml:id="id_279">
                                       <xsl:value-of xml:id="id_468" select="false ()"/>
                                    </ns50:PrimaryFlag>
                                 </xsl:otherwise>
                              </xsl:choose>
                              <ns50:CreatedByModule xml:id="id_288">
                                 <xsl:value-of xml:id="id_289" select="&quot;TCA_FORM_WRAPPER&quot;"/>
                              </ns50:CreatedByModule>
                           </ns50:CustomerAccountContactRole>
                        </xsl:if>
                     </ns50:CustomerAccountContact>
                  </ns50:CustomerAccountSite>
               </nstrgmpr:customerAccount>
            </xsl:when>
            <xsl:otherwise xml:id="id_90">
               <nstrgmpr:customerAccount xml:id="id_91">
                  <ns50:CustomerAccountId xml:id="id_92">
                     <xsl:value-of xml:id="id_194" select="$findCustomerAccount/nsmpr4:findCustomerAccountResponse/nsmpr4:result/ns50:Value/ns50:CustomerAccountId"/>
                  </ns50:CustomerAccountId>
                  <ns50:CreatedByModule xml:id="id_678">
                     <xsl:value-of xml:id="id_679" select="&quot;TCA_FORM_WRAPPER&quot;"/>
                  </ns50:CreatedByModule>
                  <ns50:CustomerAccountContact xml:id="id_101">
                     <xsl:if xml:id="id_872" test="contains ($currPerson/nsmpr11:Contact/nsmpr11:Primary_Contact_Indicator, &quot;Y&quot; )">
                        <ns50:PrimaryFlag xml:id="id_873">
                           <xsl:value-of xml:id="id_874" select="true ()"/>
                        </ns50:PrimaryFlag>
                     </xsl:if>
                     <ns50:RoleType xml:id="id_106">
                        <xsl:value-of xml:id="id_107" select="&quot;CONTACT&quot;"/>
                     </ns50:RoleType>
                     <ns50:CreatedByModule xml:id="id_104">
                        <xsl:value-of xml:id="id_105" select="&quot;TCA_FORM_WRAPPER&quot;"/>
                     </ns50:CreatedByModule>
                     <ns50:RelationshipId xml:id="id_102">
                        <xsl:value-of xml:id="id_103" select="$createPersonAndRelationship/nsmpr0:createPersonResponse/nsmpr0:result/ns39:Value/ns39:Relationship/ns37:RelationshipId"/>
                     </ns50:RelationshipId>
                  <xsl:if xml:id="id_586" test="string-length ($currPerson/nsmpr11:Contact/nsmpr11:Responsibility_Type ) > 0">
                        <ns50:CustomerAccountContactRole xml:id="id_281">
                           <ns50:ResponsibilityType xml:id="id_282">
                              <xsl:value-of xml:id="id_283" select="$currPerson/nsmpr11:Contact/nsmpr11:Responsibility_Type"/>
                           </ns50:ResponsibilityType>
                           <xsl:choose xml:id="id_469">
                              <xsl:when xml:id="id_470" test="contains ($currPerson/nsmpr11:Contact/nsmpr11:Primary_Responsibility_Indicator, &quot;Y&quot; )">
                                 <ns50:PrimaryFlag xml:id="id_284">
                                    <xsl:value-of xml:id="id_285" select="true ()"/>
                                 </ns50:PrimaryFlag>
                              </xsl:when>
                              <xsl:otherwise xml:id="id_473">
                                 <ns50:PrimaryFlag xml:id="id_284">
                                    <xsl:value-of xml:id="id_475" select="false ()"/>
                                 </ns50:PrimaryFlag>
                              </xsl:otherwise>
                           </xsl:choose>
                           <ns50:CreatedByModule xml:id="id_286">
                              <xsl:value-of xml:id="id_287" select="&quot;TCA_FORM_WRAPPER&quot;"/>
                           </ns50:CreatedByModule>
                        </ns50:CustomerAccountContactRole>
                     </xsl:if>
                  </ns50:CustomerAccountContact>
               </nstrgmpr:customerAccount>
            </xsl:otherwise>
         </xsl:choose>
      </nstrgmpr:mergeCustomerAccount>
   </xsl:template>
</xsl:stylesheet>