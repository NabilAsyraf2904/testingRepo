<?xml version = '1.0' encoding = 'UTF-8'?>
<!--User Editing Not Allowed for Sections: oracle-xsl-mapper:schema, top level xsl:params, version attribute of the stylesheet element. GENERATED BY OIC MAPPER, DO NOT DELETE THIS LINE-->
<!--User Editing Not Allowed for Sections: oracle-xsl-mapper:schema, top level xsl:params, version attribute of the stylesheet element. GENERATED BY OIC MAPPER, DO NOT DELETE THIS LINE--><xsl:stylesheet xmlns:nssrcmpr="http://www.oracle.com/2014/03/ics/schedule" xmlns:ora="http://schemas.oracle.com/xpath/extension" xmlns:oracle-xsl-mapper="http://www.oracle.com/xsl/mapper/schemas" xmlns:dvm="http://www.oracle.com/XSL/Transform/java/oracle.tip.dvm.LookupValue" xmlns:oraext="http://www.oracle.com/XSL/Transform/java/oracle.tip.pc.services.functions.ExtFunc" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:fn="http://www.w3.org/2005/xpath-functions" xmlns:xp20="http://www.oracle.com/XSL/Transform/java/oracle.tip.pc.services.functions.Xpath20" xmlns:nstrgmpr="http://xmlns.oracle.com/cloud/adapter/erp/createPersonAndRelationship_REQUEST/types" xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:ignore01="http://www.oracle.com/XSL/Transform/java" xmlns:nsmpr0="http://xmlns.oracle.com/cloud/list/pull" xmlns:nsmpr1="http://xmlns.oracle.com/cloud/adapter/ftp/readContactDetails/types" xmlns:nsmpr2="http://xmlns.oracle.com/cloud/adapter/ftp/deleteFile_REQUEST/types" xmlns:nsmpr3="http://xmlns.oracle.com/cloud/adapter/erp/findCustomerAccount_REQUEST/types" xmlns:nsmpr4="http://xmlns.oracle.com/cloud/adapter/ftp/listFileFTP_REQUEST/types" xmlns:nsmpr5="http://xmlns.oracle.com/cloud/adapter/ftp/readContactDetails_REQUEST/types" xmlns:nsmpr6="http://www.oracle.com/2014/03/ic/integration/metadata" xmlns:nsmpr7="http://xmlns.oracle.com/cloud/adapter/stagefile/writeCustomerSiteDetailStage_REQUEST/types" xmlns:ns56="http://xmlns.oracle.com/apps/cdm/foundation/parties/personService/" xmlns:ns54="http://xmlns.oracle.com/apps/cdm/foundation/parties/relationshipService/" xmlns:ns37="http://xmlns.oracle.com/apps/cdm/foundation/parties/customerAccountService/" xmlns:nsmpr8="http://xmlns.oracle.com/cloud/adapter/erp/findCustomer_REQUEST/types" xmlns:nsmpr9="http://xmlns.oracle.com/cloud/adapter/stagefile/writeCustomerAccDetailsStage_REQUEST/types" xmlns:ns51="http://xmlns.oracle.com/apps/cdm/foundation/parties/contactPointService/" xmlns:nsmpr10="http://TargetNamespace.com/fileReference" xmlns:nsmpr11="http://xmlns.oracle.com/cloud/adapter/erp/findPerson_REQUEST/types" version="2.0" xml:id="id_1" exclude-result-prefixes=" nssrcmpr ora oracle-xsl-mapper dvm oraext xsi xsd fn xp20 xsl ignore01 nsmpr0 nsmpr1 nsmpr2 nsmpr3 nsmpr4 nsmpr5 nsmpr6 nsmpr7 nsmpr8 nsmpr9 nsmpr10 nsmpr11 nsmpr10 nsmpr10 nsmpr10 nsmpr10 nsmpr10 nsmpr10 nsmpr10 nsmpr10 nsmpr10 nsmpr10 nsmpr10 nsmpr10 nsmpr10 fn fn fn fn fn fn nsmpr10" ignore01:ignorexmlids="true" xmlns:xml="http://www.w3.org/XML/1998/namespace">
        <oracle-xsl-mapper:schema xml:id="id_2">
              <!--SPECIFICATION OF MAP SOURCES AND TARGETS, DO NOT MODIFY.-->
              <oracle-xsl-mapper:mapSources xml:id="id_3">
                    <oracle-xsl-mapper:source type="XSD" xml:id="id_4">
                          <oracle-xsl-mapper:schema location="../../processor_8/resourcegroup_9/ICSSchedule_1.xsd" xml:id="id_5"/>
                          <oracle-xsl-mapper:rootElement name="schedule" namespace="http://www.oracle.com/2014/03/ics/schedule" xml:id="id_6"/>
                    </oracle-xsl-mapper:source>
                    <oracle-xsl-mapper:source type="WSDL" xml:id="id_29">
                          <oracle-xsl-mapper:schema location="../../application_117/inbound_118/resourcegroup_119/findCustomerAccount_REQUEST.wsdl" xml:id="id_30"/>
                          <oracle-xsl-mapper:rootElement name="findCustomerAccountResponse" namespace="http://xmlns.oracle.com/cloud/adapter/erp/findCustomerAccount_REQUEST/types" xml:id="id_31"/>
                          <oracle-xsl-mapper:param name="findCustomerAccount" xml:id="id_32"/>
                    </oracle-xsl-mapper:source>
                    <oracle-xsl-mapper:source type="WSDL" xml:id="id_233">
                          <oracle-xsl-mapper:schema location="../../processor_94/resourcegroup_386/generated.wsdl" xml:id="id_234"/>
                          <oracle-xsl-mapper:rootElement name="Contact" namespace="http://TargetNamespace.com/fileReference" xml:id="id_235"/>
                          <oracle-xsl-mapper:param name="currPerson" xml:id="id_236"/>
                    </oracle-xsl-mapper:source>
      </oracle-xsl-mapper:mapSources>
              <oracle-xsl-mapper:mapTargets xml:id="id_7">
                    <oracle-xsl-mapper:target type="WSDL" xml:id="id_8">
                          <oracle-xsl-mapper:schema location="../../application_134/inbound_135/resourcegroup_136/createPersonAndRelationship_REQUEST.wsdl" xml:id="id_9"/>
                          <oracle-xsl-mapper:rootElement name="createPerson" namespace="http://xmlns.oracle.com/cloud/adapter/erp/createPersonAndRelationship_REQUEST/types" xml:id="id_10"/>
                    </oracle-xsl-mapper:target>
              </oracle-xsl-mapper:mapTargets>
        </oracle-xsl-mapper:schema>
        <xsl:param name="findCustomerAccount" xml:id="id_70"/>
        <xsl:param name="currPerson" xml:id="id_303"/>
   <xsl:template match="/" xml:id="id_11">
              <nstrgmpr:createPerson xml:id="id_12">
                    <nstrgmpr:personParty xml:id="id_82">
                          <ns56:PartyNumber xml:id="id_170">
                                <xsl:value-of xml:id="id_171" select="$currPerson/nsmpr10:Contact/nsmpr10:Person_Number"/>
                          </ns56:PartyNumber>
                          <ns56:CreatedByModule xml:id="id_172">
                                <xsl:value-of xml:id="id_173" select="&quot;TCA_FORM_WRAPPER&quot;"/>
                          </ns56:CreatedByModule>
                          <ns56:PersonProfile xml:id="id_174">
                                <ns56:PersonFirstName xml:id="id_175">
                                      <xsl:value-of xml:id="id_176" select="$currPerson/nsmpr10:Contact/nsmpr10:First_Name"/>
                                </ns56:PersonFirstName>
                                <ns56:PersonMiddleName xml:id="id_177">
                                      <xsl:value-of xml:id="id_178" select="$currPerson/nsmpr10:Contact/nsmpr10:Middle_Name"/>
                                </ns56:PersonMiddleName>
                                <ns56:PersonLastName xml:id="id_179">
                                      <xsl:value-of xml:id="id_180" select="$currPerson/nsmpr10:Contact/nsmpr10:Last_Name"/>
                                </ns56:PersonLastName>
                                <ns56:CreatedByModule xml:id="id_181">
                                      <xsl:value-of xml:id="id_182" select="&quot;TCA_FORM_WRAPPER&quot;"/>
                                </ns56:CreatedByModule>
                                <ns56:JobTitle xml:id="id_183">
                                      <xsl:value-of xml:id="id_184" select="$currPerson/nsmpr10:Contact/nsmpr10:Job_Title"/>
                                </ns56:JobTitle>
                          </ns56:PersonProfile>
                          <ns56:Relationship xml:id="id_83">
                                <ns54:SubjectType xml:id="id_185">
                                      <xsl:value-of xml:id="id_186" select="&quot;PERSON&quot;"/>
                                </ns54:SubjectType>
                                <ns54:SubjectTableName xml:id="id_187">
                                      <xsl:value-of xml:id="id_188" select="&quot;HZ_PARTIES&quot;"/>
                                </ns54:SubjectTableName>
                                <ns54:ObjectId xml:id="id_84">
                                      <xsl:value-of xml:id="id_85" select="$findCustomerAccount/nsmpr3:findCustomerAccountResponse/nsmpr3:result/ns37:Value/ns37:PartyId"/>
                                </ns54:ObjectId>
                                <ns54:ObjectType xml:id="id_189">
                                      <xsl:value-of xml:id="id_190" select="&quot;ORGANIZATION&quot;"/>
                                </ns54:ObjectType>
                                <ns54:ObjectTableName xml:id="id_191">
                                      <xsl:value-of xml:id="id_192" select="&quot;HZ_PARTIES&quot;"/>
                                </ns54:ObjectTableName>
                                <ns54:RelationshipCode xml:id="id_193">
                                      <xsl:value-of xml:id="id_194" select="&quot;CONTACT_OF&quot;"/>
                                </ns54:RelationshipCode>
                                <ns54:RelationshipType xml:id="id_195">
                                      <xsl:value-of xml:id="id_196" select="&quot;CONTACT&quot;"/>
                                </ns54:RelationshipType>
                                <ns54:StartDate xml:id="id_197">
                                      <xsl:value-of xml:id="id_198" select="$findCustomerAccount/nsmpr3:findCustomerAccountResponse/nsmpr3:result/ns37:Value/ns37:AccountEstablishedDate"/>
                                </ns54:StartDate>
                                <ns54:CreatedByModule xml:id="id_699">
                  <xsl:value-of xml:id="id_700" select="&quot;TCA_FORM_WRAPPER&quot;"/>
               </ns54:CreatedByModule>
               <ns54:OrganizationContact xml:id="id_590">
                                      <ns54:ContactNumber xml:id="id_591">
                                            <xsl:value-of xml:id="id_592" select="$currPerson/nsmpr10:Contact/nsmpr10:Person_Number"/>
                                      </ns54:ContactNumber>
                                      <ns54:JobTitle xml:id="id_593">
                                            <xsl:value-of xml:id="id_594" select="$currPerson/nsmpr10:Contact/nsmpr10:Job_Title"/>
                                      </ns54:JobTitle>
                                      <ns54:CreatedByModule xml:id="id_595">
                                            <xsl:value-of xml:id="id_596" select="&quot;TCA_FORM_WRAPPER&quot;"/>
                                      </ns54:CreatedByModule>
                                      <ns54:OrganizationContactRole xml:id="id_597">
                                            <ns54:RoleType xml:id="id_598">
                                                  <xsl:value-of xml:id="id_599" select="&quot;CONTACT&quot;"/>
                                            </ns54:RoleType>
                                            <xsl:choose xml:id="id_601">
                                                  <xsl:when xml:id="id_602" test="contains ($currPerson/nsmpr10:Contact/nsmpr10:Primary_Contact_Indicator, &quot;Y&quot; )">
                                                        <ns54:PrimaryFlag xml:id="id_603">
                                                              <xsl:value-of xml:id="id_604" select="true ()"/>
                                                        </ns54:PrimaryFlag>
                                                  </xsl:when>
                                                  <xsl:otherwise xml:id="id_605">
                                                        <ns54:PrimaryFlag xml:id="id_606">
                                                              <xsl:value-of xml:id="id_607" select="false ()"/>
                                                        </ns54:PrimaryFlag>
                                                  </xsl:otherwise>
                                            </xsl:choose>
                                            <ns54:CreatedByModule xml:id="id_608">
                                                  <xsl:value-of xml:id="id_609" select="&quot;TCA_FORM_WRAPPER&quot;"/>
                                            </ns54:CreatedByModule>
                                      </ns54:OrganizationContactRole>
                                </ns54:OrganizationContact>
                                <xsl:if xml:id="id_807" test="string-length ($currPerson/nsmpr10:Contact/nsmpr10:Phone_Number ) > 0">
                  <ns54:Phone xml:id="id_199">
                     <ns51:OwnerTableName xml:id="id_200">
                        <xsl:value-of xml:id="id_201" select="&quot;HZ_PARTIES&quot;"/>
                     </ns51:OwnerTableName>
                     <xsl:choose xml:id="id_491">
                        <xsl:when xml:id="id_492" test="contains ($currPerson/nsmpr10:Contact/nsmpr10:Primary_Phone_Indicator, &quot;Y&quot; )">
                           <ns51:PrimaryFlag xml:id="id_225">
                              <xsl:value-of xml:id="id_497" select="true ()"/>
                           </ns51:PrimaryFlag>
                        </xsl:when>
                        <xsl:otherwise xml:id="id_498">
                           <ns51:PrimaryFlag xml:id="id_225">
                              <xsl:value-of xml:id="id_500" select="false ()"/>
                           </ns51:PrimaryFlag>
                        </xsl:otherwise>
                     </xsl:choose>
                     <ns51:CreatedByModule xml:id="id_202">
                        <xsl:value-of xml:id="id_203" select="&quot;TCA_FORM_WRAPPER&quot;"/>
                     </ns51:CreatedByModule>
                     <ns51:StartDate xml:id="id_204">
                        <xsl:value-of xml:id="id_205" select="$findCustomerAccount/nsmpr3:findCustomerAccountResponse/nsmpr3:result/ns37:Value/ns37:AccountEstablishedDate"/>
                     </ns51:StartDate>
                     <ns51:PhoneAreaCode xml:id="id_208">
                        <xsl:value-of xml:id="id_209" select="$currPerson/nsmpr10:Contact/nsmpr10:Phone_Area_Code"/>
                     </ns51:PhoneAreaCode>
                     <ns51:PhoneCountryCode xml:id="id_206">
                        <xsl:value-of xml:id="id_207" select="$currPerson/nsmpr10:Contact/nsmpr10:Phone_Country_Code"/>
                     </ns51:PhoneCountryCode>
                     <ns51:PhoneNumber xml:id="id_210">
                        <xsl:value-of xml:id="id_211" select="$currPerson/nsmpr10:Contact/nsmpr10:Phone_Number"/>
                     </ns51:PhoneNumber>
                     <ns51:PhoneExtension xml:id="id_212">
                        <xsl:value-of xml:id="id_213" select="$currPerson/nsmpr10:Contact/nsmpr10:Phone_Extension"/>
                     </ns51:PhoneExtension>
                  </ns54:Phone>
               </xsl:if>
               <xsl:if xml:id="id_790" test="string-length ($currPerson/nsmpr10:Contact/nsmpr10:E-Mail_Address ) > 0">
                  <ns54:Email xml:id="id_214">
                     <ns51:OwnerTableName xml:id="id_217">
                        <xsl:value-of xml:id="id_218" select="&quot;HZ_PARTIES&quot;"/>
                     </ns51:OwnerTableName>
                     <xsl:choose xml:id="id_395">
                        <xsl:when xml:id="id_396" test="contains ($currPerson/nsmpr10:Contact/nsmpr10:Primary_E-Mail_Indicator, &quot;Y&quot; )">
                           <ns51:PrimaryFlag xml:id="id_227">
                              <xsl:value-of xml:id="id_228" select="true ()"/>
                           </ns51:PrimaryFlag>
                        </xsl:when>
                        <xsl:otherwise xml:id="id_399">
                           <ns51:PrimaryFlag xml:id="id_227">
                              <xsl:value-of xml:id="id_401" select="false ()"/>
                           </ns51:PrimaryFlag>
                        </xsl:otherwise>
                     </xsl:choose>
                     <ns51:CreatedByModule xml:id="id_215">
                        <xsl:value-of xml:id="id_216" select="&quot;TCA_FORM_WRAPPER&quot;"/>
                     </ns51:CreatedByModule>
                     <ns51:StartDate xml:id="id_219">
                        <xsl:value-of xml:id="id_220" select="$findCustomerAccount/nsmpr3:findCustomerAccountResponse/nsmpr3:result/ns37:Value/ns37:AccountEstablishedDate"/>
                     </ns51:StartDate>
                     <ns51:EmailAddress xml:id="id_221">
                        <xsl:value-of xml:id="id_222" select="$currPerson/nsmpr10:Contact/nsmpr10:E-Mail_Address"/>
                     </ns51:EmailAddress>
                  </ns54:Email>
               </xsl:if>
            </ns56:Relationship>
                    </nstrgmpr:personParty>
              </nstrgmpr:createPerson>
        </xsl:template>
  </xsl:stylesheet>